package com.salhack.summit.module.exploit;

import com.salhack.summit.events.bus.EventHandler;
import com.salhack.summit.events.bus.Listener;
import com.salhack.summit.events.render.EventRenderGetEntitiesINAABBexcluding;
import com.salhack.summit.module.Module;
import com.salhack.summit.module.Value;
import net.minecraft.client.gui.GuiScreen;
import net.minecraft.item.ItemPickaxe;

public final class NoMiningTrace extends Module
{
    public final Value<Boolean> PickaxeOnly = new Value<Boolean>("Pickaxe", new String[] {"PO"}, "Only activate on using a pickaxe", true);
    public final Value<Boolean> disableWithAlt = new Value<Boolean>("DisableWithAlt", new String[] {"DOA"}, "Doesn't work if holding alt. (Useful for using MCF)", false);
    
    public NoMiningTrace()
    {
        super("NoMiningTrace", new String[]
        { "NoMiningTrace" }, "Bypasses entities", "NONE", 0xAFDB24, ModuleType.EXPLOIT);
    }

    @EventHandler
    private Listener<EventRenderGetEntitiesINAABBexcluding> NoRender = new Listener<>(p_Event ->
    {
        if (PickaxeOnly.getValue() && (!(mc.player.getHeldItemMainhand().getItem() instanceof ItemPickaxe)) || disableWithAlt.getValue() && GuiScreen.isAltKeyDown())
            return;
        
        p_Event.cancel();
    });

}
